"use strict";(self.webpackChunkphonebook_firebase=self.webpackChunkphonebook_firebase||[]).push([[498],{9498:function(e,n,r){r.r(n),r.d(n,{default:function(){return F}});var t=r(4554),a=r(8383),i=r(3466),o=r(3400),s=r(5403),c=r(9434),l=r(4808),u=r(184),d=function(){var e=(0,c.I0)();return(0,u.jsx)(t.Z,{component:"form",onChange:function(n){var r=n.currentTarget.elements.filter.value;e((0,l.B)(r))},noValidate:!0,children:(0,u.jsx)(a.Z,{size:"small",margin:"normal",id:"filter",label:"Search",name:"filter",InputProps:{endAdornment:(0,u.jsx)(i.Z,{position:"end",children:(0,u.jsx)(o.Z,{children:(0,u.jsx)(s.Z,{})})})}})})},m=r(1413),f=r(5853),h=r(890),p=r(493),x=r(4852),b=r(653),g=r(3044),v=r(9900),Z=r(533),j=r(7247),y=r(1286),C=r(6172),A=function(e){var n=e.filter,r=e.contacts,t=(0,c.I0)();function a(e){var n,r=0;for(n=0;n<e.length;n+=1)r=e.charCodeAt(n)+((r<<5)-r);var t="#";for(n=0;n<3;n+=1){t+="00".concat((r>>8*n&255).toString(16)).slice(-2)}return t}var i=r.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}));return(0,u.jsx)(u.Fragment,{children:i.length?(0,u.jsx)(p.Z,{children:i.map((function(e){return(0,u.jsxs)(x.ZP,{secondaryAction:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.Z,{edge:"end","aria-label":"edit",onClick:function(){var n;n=e.id,t((0,C.h7)(n))},sx:{mr:1},children:(0,u.jsx)(y.Z,{})}),(0,u.jsx)(o.Z,{edge:"end","aria-label":"delete",onClick:function(){var n;n=e.id,t((0,f.GK)(n))},children:(0,u.jsx)(j.Z,{})})]}),children:[(0,u.jsx)(b.Z,{children:(0,u.jsx)(g.Z,(0,m.Z)({},(n=e.name,{sx:{bgcolor:a(n)},children:"".concat(n[0].toUpperCase())})))}),(0,u.jsx)(v.Z,{primary:e.name,secondary:(0,u.jsx)(Z.Z,{href:"tel:".concat(e.number),sx:{textDecoration:"none"},children:e.number})})]},e.id);var n}))}):(0,u.jsx)(h.Z,{align:"center",sx:{mt:2},children:"No contact found."})})},k=r(2946),w=r(5391),I=r(9439),S=r(6151),T=r(763),z=r(2791),P=r(5218),D=function(){var e=(0,z.useState)(""),n=(0,I.Z)(e,2),r=n[0],i=n[1],o=(0,z.useState)(""),s=(0,I.Z)(o,2),l=s[0],d=s[1],m=(0,z.useCallback)((0,T.debounce)((function(e){return function(e){var n=e.target.value;i(function(e){if(!/^[a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b]+(([' -][a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b])?[a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b]*)*$/.test(e))return"Name may contain only letters, apostrophe, dash and spaces."}(n))}(e)}),200),[]),h=(0,z.useCallback)((0,T.debounce)((function(e){return function(e){var n=e.target.value;d(function(e){if(!/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/.test(e))return"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}(n))}(e)}),200),[]),p=(0,c.I0)(),x=(0,c.v9)(k.Af);return(0,u.jsxs)(t.Z,{component:"form",onSubmit:function(e){e.preventDefault();var n=e.currentTarget,r=n.elements.name.value.trim(),t=n.elements.number.value;if(x.find((function(e){return e.name.toLowerCase().replace(/\s/g,"")===r.toLowerCase().replace(/\s/g,"")})))(0,P.Am)("".concat(r," is already in contacts!"),{icon:"\u26a0\ufe0f"});else if(x.find((function(e){return e.number.replace(/\s/g,"")===t.replace(/\s/g,"")}))){var a=x.findIndex((function(e){return e.number.replace(/\s/g,"")===t.replace(/\s/g,"")}));(0,P.Am)("".concat(t," is already in contacts! (").concat(x[a].name,")"),{icon:"\u26a0\ufe0f"})}else p((0,f.uK)({name:r,number:t})),n.reset()},display:"flex",flexDirection:"column",children:[(0,u.jsx)(a.Z,{required:!0,margin:"normal",id:"name",label:"Name",name:"name",type:"text",error:!!r,helperText:r,onChange:m}),(0,u.jsx)(a.Z,{required:!0,margin:"normal",id:"phone",label:"Phone number",name:"number",type:"tel",error:!!l,helperText:l,onChange:h}),(0,u.jsx)(S.Z,{variant:"contained",type:"submit",sx:{mt:2},disabled:!!r||!!l,children:"Add contact"})]})},L=r(6907),q=function(e){var n=e.id,r=void 0===n?null:n,i=(0,z.useState)(""),o=(0,I.Z)(i,2),s=o[0],l=o[1],d=(0,z.useState)(""),m=(0,I.Z)(d,2),h=m[0],p=m[1],x=(0,z.useState)(""),b=(0,I.Z)(x,2),g=b[0],v=b[1],Z=(0,z.useState)(""),j=(0,I.Z)(Z,2),y=j[0],C=j[1],A=(0,c.I0)(),w=(0,c.v9)(k.Af),T=w.find((function(e){return e.id===r})),D=w.findIndex((function(e){return e.id===r}));return(0,z.useEffect)((function(){v(T.name),C(T.number)}),[T]),(0,u.jsxs)(t.Z,{component:"form",onSubmit:function(e){e.preventDefault();var n=e.currentTarget,t=n.elements.name.value.trim(),a=n.elements.number.value;if(w.find((function(e){return e.name.toLowerCase().replace(/\s/g,"")===t.toLowerCase().replace(/\s/g,"")}))&&w.findIndex((function(e){return e.name.replace(/\s/g,"")===t.replace(/\s/g,"")}))!==D)return void(0,P.Am)("".concat(t," is already in contacts!"),{icon:"\u26a0\ufe0f"});if(w.find((function(e){return e.number.replace(/\s/g,"")===a.replace(/\s/g,"")}))){var i=w.findIndex((function(e){return e.number.replace(/\s/g,"")===a.replace(/\s/g,"")}));if(i!==D)return void(0,P.Am)("".concat(a," is already in contacts! (").concat(w[i].name,")"),{icon:"\u26a0\ufe0f"})}A((0,f.Tk)({contactId:r,name:t,number:a})),n.reset()},display:"flex",flexDirection:"column",children:[(0,u.jsx)(a.Z,{value:g,required:!0,margin:"normal",id:"name",label:"Name",name:"name",type:"text",error:!!s,helperText:s,onChange:function(e){var n=e.target.value;v(n),l(function(e){if(!/^[a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b]+(([' -][a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b])?[a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b]*)*$/.test(e))return"Name may contain only letters, apostrophe, dash and spaces."}(n))}}),(0,u.jsx)(a.Z,{value:y,required:!0,margin:"normal",id:"phone",label:"Phone number",name:"number",type:"tel",error:!!h,helperText:h,onChange:function(e){var n=e.target.value;C(n),p(function(e){if(!/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/.test(e))return"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}(n))}}),(0,u.jsx)(S.Z,{variant:"contained",type:"submit",sx:{mt:2},disabled:!!s||!!h,children:"Edit contact"})]})},N={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4},F=function(){var e=(0,c.v9)(k.Af),n=(0,c.v9)(k.AD),r=(0,c.v9)(k.h3),a=(0,c.v9)(k.rk),i=(0,c.I0)();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(L.ql,{children:(0,u.jsx)("title",{children:"PhoneBook Contacts"})}),(0,u.jsx)(d,{}),(0,u.jsx)(A,{contacts:e,filter:n}),(0,u.jsx)(w.Z,{open:r,onClose:function(){i((0,C.Mr)())},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,u.jsx)(t.Z,{sx:N,children:a?(0,u.jsx)(q,{id:a}):(0,u.jsx)(D,{})})})]})}}}]);
//# sourceMappingURL=498.3c48ad21.chunk.js.map