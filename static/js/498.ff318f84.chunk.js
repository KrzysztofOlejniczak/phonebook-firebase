"use strict";(self.webpackChunkphonebook_firebase=self.webpackChunkphonebook_firebase||[]).push([[498],{9498:function(e,n,r){r.r(n),r.d(n,{default:function(){return F}});var t=r(2791),a=r(4554),i=r(8383),o=r(3466),s=r(3400),c=r(5403),l=r(9434),u=r(4808),d=r(184),m=function(){var e=(0,l.I0)();return(0,d.jsx)(a.Z,{component:"form",onChange:function(n){var r=n.currentTarget.elements.filter.value;e((0,u.B)(r))},noValidate:!0,children:(0,d.jsx)(i.Z,{size:"small",margin:"normal",id:"filter",label:"Search",name:"filter",InputProps:{endAdornment:(0,d.jsx)(o.Z,{position:"end",children:(0,d.jsx)(s.Z,{children:(0,d.jsx)(c.Z,{})})})}})})},f=r(1413),h=r(3064),p=r(890),x=r(493),b=r(4852),g=r(653),v=r(3044),Z=r(9900),j=r(533),y=r(7247),C=r(1286),A=r(6172),k=function(e){var n=e.filter,r=e.contacts,t=(0,l.I0)();function a(e){var n,r=0;for(n=0;n<e.length;n+=1)r=e.charCodeAt(n)+((r<<5)-r);var t="#";for(n=0;n<3;n+=1){t+="00".concat((r>>8*n&255).toString(16)).slice(-2)}return t}var i=r.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}));return(0,d.jsx)(d.Fragment,{children:i.length?(0,d.jsx)(x.Z,{children:i.map((function(e){return(0,d.jsxs)(b.ZP,{secondaryAction:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.Z,{edge:"end","aria-label":"edit",onClick:function(){var n;n=e.id,t((0,A.h7)(n))},sx:{mr:1},children:(0,d.jsx)(C.Z,{})}),(0,d.jsx)(s.Z,{edge:"end","aria-label":"delete",onClick:function(){var n;n=e.id,t((0,h.GK)(n))},children:(0,d.jsx)(y.Z,{})})]}),children:[(0,d.jsx)(g.Z,{children:(0,d.jsx)(v.Z,(0,f.Z)({},(n=e.name,{sx:{bgcolor:a(n)},children:"".concat(n[0].toUpperCase())})))}),(0,d.jsx)(Z.Z,{primary:e.name,secondary:(0,d.jsx)(j.Z,{href:"tel:".concat(e.number),sx:{textDecoration:"none"},children:e.number})})]},e.id);var n}))}):(0,d.jsx)(p.Z,{align:"center",sx:{mt:2},children:"No contact found."})})},w=r(2946),I=r(5391),S=r(9439),T=r(6151),z=r(763),P=r(5218),D=function(){var e=(0,t.useState)(""),n=(0,S.Z)(e,2),r=n[0],o=n[1],s=(0,t.useState)(""),c=(0,S.Z)(s,2),u=c[0],m=c[1],f=(0,t.useCallback)((0,z.debounce)((function(e){return function(e){var n=e.target.value;o(function(e){if(!/^[a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b]+(([' -][a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b])?[a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b]*)*$/.test(e))return"Name may contain only letters, apostrophe, dash and spaces."}(n))}(e)}),200),[]),p=(0,t.useCallback)((0,z.debounce)((function(e){return function(e){var n=e.target.value;m(function(e){if(!/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/.test(e))return"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}(n))}(e)}),200),[]),x=(0,l.I0)(),b=(0,l.v9)(w.Af);return(0,d.jsxs)(a.Z,{component:"form",onSubmit:function(e){e.preventDefault();var n=e.currentTarget,r=n.elements.name.value.trim(),t=n.elements.number.value;if(b.find((function(e){return e.name.toLowerCase().replace(/\s/g,"")===r.toLowerCase().replace(/\s/g,"")})))(0,P.Am)("".concat(r," is already in contacts!"),{icon:"\u26a0\ufe0f"});else if(b.find((function(e){return e.number.replace(/\s/g,"")===t.replace(/\s/g,"")}))){var a=b.findIndex((function(e){return e.number.replace(/\s/g,"")===t.replace(/\s/g,"")}));(0,P.Am)("".concat(t," is already in contacts! (").concat(b[a].name,")"),{icon:"\u26a0\ufe0f"})}else x((0,h.uK)({name:r,number:t})),n.reset()},display:"flex",flexDirection:"column",children:[(0,d.jsx)(i.Z,{required:!0,margin:"normal",id:"name",label:"Name",name:"name",type:"text",error:!!r,helperText:r,onChange:f}),(0,d.jsx)(i.Z,{required:!0,margin:"normal",id:"phone",label:"Phone number",name:"number",type:"tel",error:!!u,helperText:u,onChange:p}),(0,d.jsx)(T.Z,{variant:"contained",type:"submit",sx:{mt:2},disabled:!!r||!!u,children:"Add contact"})]})},L=r(6907),q=function(e){var n=e.id,r=void 0===n?null:n,o=(0,t.useState)(""),s=(0,S.Z)(o,2),c=s[0],u=s[1],m=(0,t.useState)(""),f=(0,S.Z)(m,2),p=f[0],x=f[1],b=(0,t.useState)(""),g=(0,S.Z)(b,2),v=g[0],Z=g[1],j=(0,t.useState)(""),y=(0,S.Z)(j,2),C=y[0],A=y[1],k=(0,l.I0)(),I=(0,l.v9)(w.Af),z=I.find((function(e){return e.id===r})),D=I.findIndex((function(e){return e.id===r}));return(0,t.useEffect)((function(){Z(z.name),A(z.number)}),[z]),(0,d.jsxs)(a.Z,{component:"form",onSubmit:function(e){e.preventDefault();var n=e.currentTarget,t=n.elements.name.value.trim(),a=n.elements.number.value;if(I.find((function(e){return e.name.toLowerCase().replace(/\s/g,"")===t.toLowerCase().replace(/\s/g,"")}))&&I.findIndex((function(e){return e.name.replace(/\s/g,"")===t.replace(/\s/g,"")}))!==D)return void(0,P.Am)("".concat(t," is already in contacts!"),{icon:"\u26a0\ufe0f"});if(I.find((function(e){return e.number.replace(/\s/g,"")===a.replace(/\s/g,"")}))){var i=I.findIndex((function(e){return e.number.replace(/\s/g,"")===a.replace(/\s/g,"")}));if(i!==D)return void(0,P.Am)("".concat(a," is already in contacts! (").concat(I[i].name,")"),{icon:"\u26a0\ufe0f"})}k((0,h.Tk)({contactId:r,name:t,number:a})),n.reset()},display:"flex",flexDirection:"column",children:[(0,d.jsx)(i.Z,{value:v,required:!0,margin:"normal",id:"name",label:"Name",name:"name",type:"text",error:!!c,helperText:c,onChange:function(e){var n=e.target.value;Z(n),u(function(e){if(!/^[a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b]+(([' -][a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b])?[a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b]*)*$/.test(e))return"Name may contain only letters, apostrophe, dash and spaces."}(n))}}),(0,d.jsx)(i.Z,{value:C,required:!0,margin:"normal",id:"phone",label:"Phone number",name:"number",type:"tel",error:!!p,helperText:p,onChange:function(e){var n=e.target.value;A(n),x(function(e){if(!/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/.test(e))return"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}(n))}}),(0,d.jsx)(T.Z,{variant:"contained",type:"submit",sx:{mt:2},disabled:!!c||!!p,children:"Edit contact"})]})},N={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4},F=function(){var e=(0,l.v9)(w.Af),n=(0,l.v9)(w.AD),r=(0,l.v9)(w.h3),i=(0,l.v9)(w.rk),o=(0,l.I0)();(0,t.useEffect)((function(){o((0,h.yF)())}),[o]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(L.ql,{children:(0,d.jsx)("title",{children:"PhoneBook Contacts"})}),(0,d.jsx)(m,{}),(0,d.jsx)(k,{contacts:e,filter:n}),(0,d.jsx)(I.Z,{open:r,onClose:function(){o((0,A.Mr)())},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,d.jsx)(a.Z,{sx:N,children:i?(0,d.jsx)(q,{id:i}):(0,d.jsx)(D,{})})})]})}}}]);
//# sourceMappingURL=498.ff318f84.chunk.js.map